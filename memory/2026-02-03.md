# 2026-02-03

## Issues & Fixes
- **Feishu Card Swallowing Text**: The `feishu-card` skill, when invoked with `--text` and containing shell-sensitive characters like backticks (\`), was getting truncated by the shell before the script even ran.
- **Solution Implementation**:
  - Identified that `skills/feishu-card/send.js` already supports `--text-file` (via `-f`) but the documentation was outdated/unclear, and the Agent wasn't using it.
  - **Action**: Updated `SKILL.md` to mandate the use of `--text-file` for Markdown content.
  - **Action**: Updated `MEMORY.md` to force the Agent to write content to a temporary file before sending if it contains special characters.
  - **Code Update**: Minor robustness update to `send.js` to ensure fallback works smoothly.

## Workflow Update (MANDATORY)
- **Feishu Card Sending**:
  1. Write content to `temp/msg_body.md`.
  2. Run `node skills/feishu-card/send.js --target "..." --text-file "temp/msg_body.md"`.
  3. NEVER pass markdown directly via `--text`.

## Context
- **User Criticism**: "这次你又吞字了... 强制加入流程". User demanded a mechanism to screen/prevent escaping issues.
- **Response**: The most robust mechanism is avoiding shell argument passing for message bodies entirely.
